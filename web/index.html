<!doctype html>
<html data-recaptcha="{{.SiteKey}}">
    <head>
        <title>The Secret Service</title>
        <meta name="keywords" content="password file sharing">
        <link rel="icon" href="/ss-ico.svg" type="image/svg+xml">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="\pico.min.css">
        <link rel="stylesheet" href="\index.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
        <script defer src="index.js"></script>
        <script src="https://www.google.com/recaptcha/api.js?render={{.SiteKey}}"></script>
    </head>
    <body class="container">
        <nav>
            <div><h1 id="title">SECRET SERVICE</h1></div>
            <label for="type">
                Secret Format
                <select id="type" name="type" style="width: min-content;margin-left: 1rem;" onchange="app.type(this)">
                    <option value="string">String (Text)</option>
                    <option value="binary">Binary (File)</option>
                    <option value="audio">Audio (Microphone)</option>
                    <option value="video">Video (Webcam)</option>
                </select>
            </label>
            <label for="life">
                Expiry
                <select id="life" name="life" style="width: min-content;margin-left: 1rem;">
                    <option value="1">1 Hours</option>
                    <option value="2">2 Hours</option>
                    <option value="4">4 Hours</option>
                    <option value="8">8 Hours</option>
                    <option value="12">12 Hours</option>
                    <option value="24">24 Hours</option>
                </select>
            </label>
        </nav>
        <form id="form-parent" onsubmit="return false;">
            <fieldset class="grid">
                <label data-tooltip="Useful for safelinks, preview generation etc." for="hidden">
                    <input type="checkbox" id="hidden" name="hidden" role="switch" checked>
                    Preview Protection
                </label>
                <label data-tooltip="Enable to show a download link." for="download">
                    <input type="checkbox" id="download" name="download" role="switch">
                    Allow Downloads
                </label>
            </fieldset>
            <article id="form">

            </article>
            <div style="display:flex;">
              <button id="submit" type="button" onclick="app.send()">Get Link</button>
              <button style="width:fit-content;margin-left:1rem;" type="button" onclick="app.toclipboard()"><img id="cbimg" style="height:1.5rem;" src="/img/clipboard2.svg" class="icon"></button>
            </div>
        </form>
        <foot><a href="https://github.com/yay101/secretservice">Github</a></foot>
        <script>
            if(typeof grecaptcha === 'undefined') {
              grecaptcha = {};
            }
            grecaptcha.ready = function(cb){
              if(typeof grecaptcha === 'undefined') {
                const c = '___grecaptcha_cfg';
                window[c] = window[c] || {};
                (window[c]['fns'] = window[c]['fns']||[]).push(cb);
              } else {
                cb();
              }
            }
          </script>          
    </body>
</html>